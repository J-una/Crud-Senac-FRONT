<div class="auth-container">
  <h2>Redefinir Senha</h2>
  <form [formGroup]="form" (ngSubmit)="redefinir()">
    <div class="form-group">
      <label for="novaSenha">Nova Senha</label>
      <input 
        id="novaSenha" 
        formControlName="novaSenha" 
        placeholder="Nova senha" 
        type="password"
        class="form-control"
        [ngClass]="{'is-invalid': form.get('novaSenha')?.invalid && form.get('novaSenha')?.touched}" />
      <div *ngIf="form.get('novaSenha')?.touched && form.get('novaSenha')?.hasError('required')" class="text-danger">
        A nova senha é obrigatória.
      </div>
    </div>

    <div class="form-group">
      <label for="confirmarSenha">Confirmar Senha</label>
      <input 
        id="confirmarSenha" 
        formControlName="confirmarSenha" 
        placeholder="Confirme sua senha" 
        type="password"
        class="form-control"
        [ngClass]="{'is-invalid': (form.get('confirmarSenha')?.invalid && form.get('confirmarSenha')?.touched) || (form.errors?.['senhaDiferente'] && form.get('confirmarSenha')?.touched)}" />
      <div *ngIf="form.get('confirmarSenha')?.touched && form.get('confirmarSenha')?.hasError('required')" class="text-danger">
        A confirmação da senha é obrigatória.
      </div>
      <div *ngIf="form.errors?.['senhaDiferente'] && form.get('confirmarSenha')?.touched" class="text-danger">
        As senhas não coincidem.
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="form.invalid" class="btn btn-primary">Redefinir</button>
    </div>
  </form>

  <p *ngIf="mensagem" class="mensagem">{{ mensagem }}</p>
</div>
